{% extends 'website/base.html' %}
{% load static %}
{% block main_container %}
<section>
    <div class="gap remove-bottom black-layer2 opc85">
        <div class="fixed-bg" style="background-image: url({% static 'assets/images/parallax13.jpg' %});"></div>
        <div class="container">
            <div class="page-title-wrap">
                <h1><img src="{% static 'assets/images/resources/page-title-ayat.png' %}" alt="page-title-ayat.png"></h1>
                <h2>Prayer Timings</h2>
                <ul class="breadcrumbs">
                    <li><a href="{% url 'home' %}" title="">Home</a></li>
                    <li>Prayer Timings</li>
                </ul>
            </div><!-- Page Title Wrap -->
        </div>
    </div>
</section>
<section>
    <div class="container">
        <div class="plrs-wrap text-center remove-ext3">
            <label for="month-select" style="display: none;">Month</label>
            <select class="thm-btn brd-rd40" id="month-select" onchange="changeMonth(this.value)" name="month-select">
                <option class="thm-btn brd-rd40" value="01">January</option>
                <option class="thm-btn brd-rd40" value="02">February</option>
                <option class="thm-btn brd-rd40" value="03">March</option>
                <option class="thm-btn brd-rd40" value="04">April</option>
                <option class="thm-btn brd-rd40" value="05">May</option>
                <option class="thm-btn brd-rd40" value="06">June</option>      
                <option class="thm-btn brd-rd40" value="07">July</option>
                <option class="thm-btn brd-rd40" value="08">August</option>
                <option class="thm-btn brd-rd40" value="09">September</option>
                <option class="thm-btn brd-rd40" value="10">October</option>
                <option class="thm-btn brd-rd40" value="11">November</option>
                <option class="thm-btn brd-rd40" value="12">December</option>
            </select>
            <div class="table-responsive" style="overflow-x: auto;">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Fajr</th>
                            <th>Shuruk</th>
                            <th>Zuhr</th>
                            <th>Asr</th>
                            <th>Maghrib</th>
                            <th>Isha</th>
                            <!-- <th>Jumuah</th> -->
                        </tr>
                    </thead>
                    <tbody>
                        {% for prayertime in prayertimes %}
                        <tr>
                            <td>{{ prayertime.date }}</td>
                            <td>{{ prayertime.fajr_start }}</td>
                            <td>{{ prayertime.sunrise_start }}</td>
                            <td>{{ prayertime.dhuhr_start }}</td>
                            <td>{{ prayertime.asr_start }}</td>
                            <td>{{ prayertime.maghrib_start }}</td>
                            <td>{{ prayertime.isha_start }}</td>
                            <!-- <td>{{ prayertime.jumuah_start }}</td> -->
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<script>
    function changeMonth(selectedMonth) {
      // Map month codes to month names
      const monthNames = {
        "01": "January",
        "02": "February",
        "03": "March",
        "04": "April",
        "05": "May",
        "06": "June",
        "07": "July",
        "08": "August",
        "09": "September",
        "10": "October",
        "11": "November",
        "12": "December"
      };
  
      // Update the select element's display value (if needed)
      document.getElementById("month-select").value = selectedMonth;
  
      // Optionally update a separate button or display element:
      // document.getElementById("monthSelectButton").innerText = monthNames[selectedMonth];
  
      // Update the query parameter and reload the page
      const urlParams = new URLSearchParams(window.location.search);
      urlParams.set('month-select', selectedMonth);
      window.location.search = urlParams.toString();
    }
  </script>

{% endblock %}